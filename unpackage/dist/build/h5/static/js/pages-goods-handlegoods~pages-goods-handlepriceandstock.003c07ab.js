(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-handlegoods~pages-goods-handlepriceandstock"],{1255:function(e,t,a){"use strict";var n=a("ee27");a("4160"),a("d3b7"),a("e25e"),a("25f0"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=n(a("d0ff")),o=n(a("9a71")),l={name:"goodspectable",components:{pTable:o.default},props:{type:{type:String,default:"default"},attributeList:{type:Array,default:function(){return[]}},specs:{type:Array,default:function(){return[]}}},data:function(){return{tableTitleData:[],tableData:[]}},watch:{attributeList:{handler:function(e,t){console.log("商品属性有变动，重新计算tabledata数据------".concat(JSON.stringify(e))),i.gettabledata()},deep:!0},specs:{handler:function(e,t){console.log("规格有变动，重新计算tabledata数据------".concat(JSON.stringify(e))),i.gettabledata()},deep:!0},tableData:{handler:function(e,t){console.log("检测到tabledata发生变化,此时获取最新的specs数据进行传值同步数据"),i.getnewspecs()},deep:!0}},created:function(){i=this,i.gettabledata()},methods:{gettabledata:function(){var e=this.attributeList,t=this.specs,a=[],n={label:i.i18n.goods.specindex,value:"index",ifclone:!1};a.push(n),e.forEach((function(e,t){var n={label:e.attributeName,value:e.attributeName,ifclone:!1};a.push(n)}));var r={label:i.i18n.goods.costprice,value:"costPrice",ifclone:!0},o={label:i.i18n.goods.price,value:"salePrice",ifclone:!0},l={label:i.i18n.goods.agentprice,value:"agentPrice",ifclone:!0},c={label:i.i18n.goods.creditprice,value:"creditPrice",ifclone:!0},u={label:i.i18n.goods.stock,value:"stockCount",ifclone:!0};"price"===this.type?a.push(r,o,l,c):"stock"===this.type?a.push(u):"default"===this.type&&a.push(r,o,l,c,u);var s=[];t.forEach((function(t,a){var n={};n["index"]={type:"string",value:(a+1).toString()},e.forEach((function(e,a){n[e.attributeName]={type:"string",value:t.attributeList.length>a?t.attributeList[a].attributeValue:""}})),n["costPrice"]={type:"input",inputtype:"digit",value:"add"===i.type?"":t.costPrice,placeholder:i.i18n.goods.costprice},n["salePrice"]={type:"input",inputtype:"digit",value:"add"===i.type?"":t.salePrice,placeholder:i.i18n.goods.price},n["agentPrice"]={type:"input",inputtype:"digit",value:"add"===i.type?"":t.agentPrice,placeholder:i.i18n.goods.agentprice},n["creditPrice"]={type:"input",inputtype:"digit",value:"add"===i.type?"":t.creditPrice,placeholder:i.i18n.goods.creditprice},n["stockCount"]={type:"input",inputtype:"number",value:"add"===i.type?"":t.stockCount,placeholder:i.i18n.goods.stock},s.push(n)})),i.tableTitleData=a,i.tableData=s},clonetablerowdata:function(e){var t=i.tableData[0],a=i.tableTitleData[e].value,n=t[a];if("input"===n.type){var o=n.value,l=(0,r.default)(i.tableData);l.forEach((function(e,t){var n=e[a];"input"===n.type&&(n.value=o)})),i.tableData=l}},getnewspecs:function(){var e=(0,r.default)(i.specs),t=(0,r.default)(i.tableData),a=[];t.forEach((function(t,n){var i=e[n],r=t["costPrice"].value||"";i.costPrice=r;var o=t["salePrice"].value||"";i.salePrice=o;var l=t["agentPrice"].value||"";i.agentPrice=l;var c=t["creditPrice"].value||"";i.creditPrice=c;var u=parseInt(t["stockCount"].value)||0;i.stockCount=u,a.push(i)})),a&&a.length>0&&this.$emit("getnewspecs",a)}}};t.default=l},"138a":function(e,t,a){"use strict";var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tableData&&e.tableData.length>0?a("v-uni-view",{staticClass:"goodspectableview"},[a("p-table",{staticClass:"tableview",attrs:{tableData:e.tableData,title:e.tableTitleData,align:"center",titleBg:"#cdcdcd"},on:{clonetablerowdata:function(t){arguments[0]=t=e.$handleEvent(t),e.clonetablerowdata.apply(void 0,arguments)}},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1):e._e()},r=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}))},"23b9":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.table[data-v-82efaf92]{display:-webkit-box;display:-webkit-flex;display:flex}.table .thead[data-v-82efaf92]{border-bottom:%?1?% solid #e5e5e5;box-shadow:%?5?% 0 %?5?% #eee}.table .thead .title[data-v-82efaf92]{box-sizing:border-box;position:relative;padding:0 %?20?%;min-width:%?180?%;height:%?88?%;line-height:%?88?%;font-size:%?24?%;color:#666;border:%?1?% solid #e5e5e5;border-bottom:none;border-right:none}.table .tbody_wrap[data-v-82efaf92]{overflow-x:auto;border-right:%?1?% solid #e5e5e5;border-bottom:%?1?% solid #e5e5e5}.table .tbody_wrap .tbody .col[data-v-82efaf92]{display:-webkit-box;display:-webkit-flex;display:flex}.table .tbody_wrap .tbody .row[data-v-82efaf92]{box-sizing:border-box;padding:0 %?20?%;line-height:%?88?%;font-size:%?24?%;color:#666;min-width:%?180?%;height:%?88?%;border:%?1?% solid #e5e5e5;border-bottom:none;border-right:none}.baseBg[data-v-82efaf92]{background-color:#fff}.firstCol[data-v-82efaf92]{background-color:#007aff}',""]),e.exports=t},"3e18":function(e,t,a){"use strict";var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"table"},[a("v-uni-view",{staticClass:"thead"},e._l(e.title,(function(t,n){return a("v-uni-view",{key:n,staticClass:"title",style:{textAlign:e.align,backgroundColor:e.titleBg,lineHeight:t.ifclone?"44rpx":"88rpx"}},[a("v-uni-view",{staticClass:"t_oneline text-bold text-df",staticStyle:{"max-width":"200rpx"}},[e._v(e._s(t.label))]),t.ifclone?a("v-uni-view",{staticClass:"text-sm text-blue",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clonetabledata(n)}}},[e._v(e._s(e.i18n.base.onekeyclone))]):e._e()],1)})),1),a("v-uni-view",{staticClass:"tbody_wrap"},[a("v-uni-view",{staticClass:"tbody"},e._l(e.title,(function(t,n){return a("v-uni-view",{key:n,staticClass:"col"},e._l(e.tableData,(function(i,r){return a("v-uni-view",{key:r,staticClass:"row flex align-center",class:[0==n?"firstCol":"baseBg"]},["checkbox"===i[t.value].inputtype&&i[t.value]&&"input"===i[t.value].type?a("v-uni-input",{staticClass:"borderCDCDCD text-sm radius inputitem",style:{textAlign:e.align},attrs:{placeholder:i[t.value].placeholder,"confirm-type":"next","cursor-spacing":30,type:"checkbox"},model:{value:i[t.value].value,callback:function(a){e.$set(i[t.value],"value",a)},expression:"zItem[item.value].value"}}):"radio"===i[t.value].inputtype&&i[t.value]&&"input"===i[t.value].type?a("input",{directives:[{name:"model",rawName:"v-model",value:i[t.value].value,expression:"zItem[item.value].value"}],staticClass:"borderCDCDCD text-sm radius inputitem",style:{textAlign:e.align},attrs:{placeholder:i[t.value].placeholder,"confirm-type":"next","cursor-spacing":30,type:"radio"},domProps:{checked:e._q(i[t.value].value,null)},on:{change:function(a){return e.$set(i[t.value],"value",null)}}}):i[t.value]&&"input"===i[t.value].type?a("input",{directives:[{name:"model",rawName:"v-model",value:i[t.value].value,expression:"zItem[item.value].value"}],staticClass:"borderCDCDCD text-sm radius inputitem",style:{textAlign:e.align},attrs:{placeholder:i[t.value].placeholder,"confirm-type":"next","cursor-spacing":30,type:i[t.value].inputtype},domProps:{value:i[t.value].value},on:{input:function(a){a.target.composing||e.$set(i[t.value],"value",a.target.value)}}}):i[t.value]&&"string"===i[t.value].type?a("v-uni-text",{style:{textAlign:e.align,width:"100%"}},[e._v(e._s(i[t.value].value||"-"))]):e._e()],1)})),1)})),1)],1)],1)},r=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}))},"40b6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{}},props:{tableData:{type:Array,required:!0},title:{type:Array,required:!0},align:{type:String,default:"center"},titleBg:{type:String,default:"#fff"}},methods:{clonetabledata:function(e){this.$emit("clonetablerowdata",e)}}};t.default=n},4171:function(e,t,a){"use strict";a.r(t);var n=a("40b6"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},"648f":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goodspectableview[data-v-c87c250e]{background-color:#fff}.goodspectableview[data-v-c87c250e] .tableview .firstCol{background-color:#cdcdcd}.goodspectableview[data-v-c87c250e] .tableview .inputitem{width:%?120?%;height:%?40?%}',""]),e.exports=t},"6a01":function(e,t,a){"use strict";a.r(t);var n=a("1255"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},"7a89":function(e,t,a){"use strict";a.r(t);var n=a("138a"),i=a("6a01");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("95c0");var o,l=a("f0c5"),c=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"c87c250e",null,!1,n["a"],o);t["default"]=c.exports},"95c0":function(e,t,a){"use strict";var n=a("cf19"),i=a.n(n);i.a},"9a71":function(e,t,a){"use strict";a.r(t);var n=a("3e18"),i=a("4171");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("cb8e");var o,l=a("f0c5"),c=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"82efaf92",null,!1,n["a"],o);t["default"]=c.exports},b3bd:function(e,t,a){var n=a("23b9");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("74e84f8c",n,!0,{sourceMap:!1,shadowMode:!1})},b6802:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},cb8e:function(e,t,a){"use strict";var n=a("b3bd"),i=a.n(n);i.a},cf19:function(e,t,a){var n=a("648f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("ae8ba6f0",n,!0,{sourceMap:!1,shadowMode:!1})},d0ff:function(e,t,a){"use strict";a.r(t);var n=a("b6802");function i(e){if(Array.isArray(e))return Object(n["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var o=a("dde1");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return i(e)||r(e)||Object(o["a"])(e)||l()}a.d(t,"default",(function(){return c}))},dde1:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("a630"),a("fb6a"),a("d3b7"),a("25f0"),a("3ca3");var n=a("b6802");function i(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(e,t):void 0}}}}]);