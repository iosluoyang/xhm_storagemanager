(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goodsdetail"],{"0200":function(t,e,i){var n=i("9386");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("60cf77e2",n,!0,{sourceMap:!1,shadowMode:!1})},"1f85":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.prodetailmodal[data-v-a2c25180]{z-index:888}.prodetailmodal .cu-dialog[data-v-a2c25180]{border-top-left-radius:%?20?%;border-top-right-radius:%?20?%}.prodetailmodal .cu-dialog .content[data-v-a2c25180]{min-height:%?300?%;max-height:%?600?%}',""]),t.exports=e},"20fe":function(t,e,i){"use strict";i.r(e);var n=i("3997"),r=i("26f1");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("f278");var s,o=i("f0c5"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"17759af4",null,!1,n["a"],s);e["default"]=c.exports},"26f1":function(t,e,i){"use strict";i.r(e);var n=i("da73"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},2800:function(t,e,i){"use strict";var n,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-picker",{attrs:{mode:"multiSelector",range:t.typemultiArray,"range-key":"typeName",value:t.selecttypeIndexArr},on:{columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.MultiColumnChange.apply(void 0,arguments)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.selectType.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[i("v-uni-view",{staticClass:"pickercontentview flex flex-direction align-end"},[i("v-uni-text",{staticClass:"text-df padding-bottom-sm"},[t._v(t._s(t.showtypestr))]),i("v-uni-text",{staticClass:"text-sm"},[t._v(t._s(t.i18n.base.click)),i("v-uni-text",{staticClass:"text-blue text-light margin-lr-sm",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.editgoodstype.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.base.here))]),t._v(t._s(t.i18n.base.toaddmore))],1)],1)],1)],1)},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},3997:function(t,e,i){"use strict";var n={uniQrcode:i("c99d").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"goodsdetailview"},[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.i18n.nav.goodsdetail))])],2),[t.swiperData&&t.swiperData.length<3?i("v-uni-swiper",{staticClass:"screen-swiper square-dot",attrs:{"indicator-dots":!0,circular:!0,autoplay:!0,interval:"5000",duration:"500"}},t._l(t.swiperData,(function(e,n){return i("v-uni-swiper-item",{key:n,on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.previewimg(n)}}},[i("v-uni-image",{attrs:{src:e,mode:"aspectFill"}})],1)})),1):t._e(),t.swiperData&&t.swiperData.length>2?i("v-uni-swiper",{staticClass:"card-swiper round-dot bg-gray",attrs:{"indicator-dots":!0,circular:!0,autoplay:!0,interval:"5000",duration:"500","indicator-color":"#8799a3","indicator-active-color":"#0081ff"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwiper.apply(void 0,arguments)}}},t._l(t.swiperData,(function(e,n){return i("v-uni-swiper-item",{key:n,class:t.swiperindex==n?"cur":"",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.previewimg(n)}}},[i("v-uni-view",{staticClass:"swiper-item"},[i("v-uni-image",{attrs:{src:e,mode:"aspectFill"}})],1)],1)})),1):t._e()],t.product?i("v-uni-view",{staticClass:"goodsinfoview padding bg-white"},[i("v-uni-view",{staticClass:"padding solid-bottom"},[i("v-uni-view",{staticClass:"goodstitleview t_threeline text-xxl text-black margin-bottom"},[t._v(t._s(t.product.title))]),i("v-uni-view",{staticClass:"goodspriceview text-red text-xl margin-bottom"},[t._v(t._s(t.selectspecinfo?t.selectspecinfo.salePrice:t.product.price))]),i("v-uni-view",{staticClass:"goodsdesview text-df"},[t._v(t._s(t.product.productIntro))])],1),i("v-uni-view",{staticClass:"cu-list menu solid-bottom"},[i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"cuIcon-tagfill text-orange margin-right-xs"}),i("v-uni-text",{staticClass:"text-black"},[t._v(t._s(t.i18n.goods.handlegoods.goodstype))])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-view",{staticClass:"cu-tag round bg-orange light"},[t._v(t._s(t.product.firstTypeName+(t.product.subTypeName?" / "+t.product.subTypeName:"")))])],1)],1),t.product.barCode&&t.product.barCode.length>0?i("v-uni-view",{staticClass:"cu-item arrow",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.checkqrcode.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"cuIcon-qrcode text-brown margin-right-sm"}),i("v-uni-text",{staticClass:"text-black"},[t._v(t._s(t.i18n.goods.handlegoods.goodsbarcode))])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon cuIcon-qr_code"})],1)],1):t._e()],1),i("v-uni-view",{staticClass:"specsview padding flex flex-direction solid-bottom"},[i("v-uni-text",{staticClass:"spectitle text-xl text-bold margin-bottom"},[t._v(t._s(t.i18n.goods.handlegoods.goodsspec)+":")]),t.product&&t.product.specs&&t.product.specs.length>0?i("v-uni-view",{staticClass:"allspecview flex flex-wrap align-center"},t._l(t.product.specs,(function(e,n){return i("v-uni-view",{key:n,staticClass:"cu-tag round padding xl margin-bottom-sm",class:[t.selectspecinfo&&e.specId===t.selectspecinfo.specId?"bg-blue":"line-grey"],on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.selectspecinfo=e}}},[t._v(t._s(e.attributeList.map((function(t){return t.attributeValue})).join("、")))])})),1):t._e()],1),0===t.user.type&&t.priceList&&t.priceList.length>0?i("v-uni-view",{staticClass:"priceshowview bg-white padding solid-bottom"},[i("v-uni-view",{staticClass:"flex align-center justify-between"},[i("v-uni-text",{staticClass:"text-xl text-bold margin-right-sm"},[t._v(t._s(t.i18n.goods.pricestr)+":")]),i("v-uni-button",{staticClass:"cu-btn radius sm cuIcon-edit",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.jumptofixprice.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(t.i18n.base.fix))])],1)],1),i("v-uni-view",{staticClass:"grid col-2 text-center"},t._l(t.priceList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"padding flex flex-direction"},[i("v-uni-text",{staticClass:"text-df text-light text-grey margin-bottom"},[t._v(t._s(e.pricetitle))]),i("v-uni-text",{staticClass:"text-bold text-xl",class:e.pricecolor},[t._v(t._s(e.price))])],1)})),1)],1):t._e(),i("v-uni-view",{staticClass:"stockrecordview bg-white padding"},[i("v-uni-view",{staticClass:"stockstr text-xl"},[i("v-uni-text",{staticClass:"text-bold text-black"},[t._v(t._s(t.i18n.goods.goodsdetail.stockrecord))]),i("v-uni-text",{staticClass:"text-light margin-left"},[t._v("( "+t._s(t.i18n.goods.stock)+": "+t._s(t.selectspecinfo.stockCount)+")")])],1),t.computedstockrecord&&t.computedstockrecord.length>0?i("v-uni-view",{staticClass:"cu-timeline margin-top"},[t._l(t.computedstockrecord,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"cu-time"},[t._v(t._s(e.createDate.substr(-14)))]),i("v-uni-view",{key:n+"_1",staticClass:"cu-item",class:[0===e.flag?"cuIcon-roundright text-blue":"cuIcon-pullleft text-green"]},[i("v-uni-view",{staticClass:"content shadow-blur text-light",class:[0===e.flag?"bg-gradual-blue":"bg-gradual-green"]},[i("v-uni-text",{staticClass:"text-bold"},[t._v("【"+t._s(0===e.flag?t.i18n.stock.stockin:t.i18n.stock.stockout)+"】")]),i("v-uni-text",{staticClass:"margin-right-sm"},[t._v(t._s(e.realName+" ("+e.account+")"))]),i("v-uni-text",{staticClass:"margin-right-sm"},[t._v(t._s(""+(0===e.flag?t.i18n.stock.stockin:t.i18n.stock.stockout)))]),i("v-uni-text",{staticClass:"margin-right-sm "},[t._v(t._s(e.title+" ("+e.specInfo.specName+")"))]),i("v-uni-text",[t._v(t._s(""+e.stockCount))])],1)],1)]}))],2):t._e()],1)],1):t._e(),i("v-uni-view",{staticClass:"optionview cu-bar btn-group bg-white"},[i("v-uni-button",{staticClass:"bg-grey lg round cu-btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.editgoods.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.base.edit))]),i("v-uni-button",{staticClass:"bg-gradual-green lg round cu-btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.jumptostockmanage.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.nav.stock))])],1),i("v-uni-view",{staticClass:"cu-modal",class:t.ifshowqrcode?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[t.product?i("v-uni-view",{staticClass:"content text-cut"},[t._v(t._s(t.product.title))]):t._e(),i("v-uni-view",{staticClass:"action",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.ifshowqrcode=!1}}},[i("v-uni-text",{staticClass:"cuIcon-close text-black"})],1)],1),t.product?i("v-uni-view",{staticClass:"padding-xl qrimg flex justify-center"},[i("uni-qrcode",{ref:"proqrimg",attrs:{cid:"proqrimg",makeOnLoad:!0,text:t.$basejs.storeName()+t.product.barCode},on:{makeComplete:function(e){arguments[0]=e=t.$handleEvent(e),t.getqrcodeimgpath.apply(void 0,arguments)}}})],1):t._e(),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-green text-green",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.ifshowqrcode=!1}}},[t._v(t._s(t.i18n.base.cancel))])],1)],1)],1)],1)],2)},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},"3a66":function(t,e,i){"use strict";var n=i("d8c4"),r=i.n(n);r.a},4472:function(t,e,i){"use strict";var n=i("916c"),r=i.n(n);r.a},"4ca2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={};(function(){function t(t){this.mode=i.MODE_8BIT_BYTE,this.data=t}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}t.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=l.getRSBlocks(t,this.errorCorrectLevel),i=new d,n=0,r=0;r<e.length;r++)n+=e[r].dataCount;for(r=0;r<this.dataList.length;r++){var a=this.dataList[r];i.put(a.mode,4),i.put(a.getLength(),s.getLengthInBits(a.mode,t)),a.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=s.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i),r=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*r,o=0;o<this.modules[a].length;o++){var c=o*r,u=this.modules[a][o];u&&(n.beginFill(0,100),n.moveTo(c,s),n.lineTo(c+r,s),n.lineTo(c+r,s+r),n.lineTo(c,s+r),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],r=t[i];if(null==this.modules[n][r])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[n+a][r+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},setupTypeNumber:function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=s.getBCHTypeInfo(i),r=0;r<15;r++){var a=!t&&1==(n>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++){a=!t&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2){6==o&&o--;while(1){for(var c=0;c<2;c++)if(null==this.modules[n][o-c]){var u=!1;a<t.length&&(u=1==(t[a]>>>r&1));var l=s.getMask(e,n,o-c);l&&(u=!u),this.modules[n][o-c]=u,r--,-1==r&&(a++,r=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,i,n){for(var r=l.getRSBlocks(t,i),a=new d,o=0;o<n.length;o++){var c=n[o];a.put(c.mode,4),a.put(c.getLength(),s.getLengthInBits(c.mode,t)),c.write(a)}var u=0;for(o=0;o<r.length;o++)u+=r[o].dataCount;if(a.getLengthInBits()>8*u)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*u+")");a.getLengthInBits()+4<=8*u&&a.put(0,4);while(a.getLengthInBits()%8!=0)a.putBit(!1);while(1){if(a.getLengthInBits()>=8*u)break;if(a.put(e.PAD0,8),a.getLengthInBits()>=8*u)break;a.put(e.PAD1,8)}return e.createBytes(a,r)},e.createBytes=function(t,e){for(var i=0,n=0,r=0,a=new Array(e.length),o=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,d=e[c].totalCount-l;n=Math.max(n,l),r=Math.max(r,d),a[c]=new Array(l);for(var f=0;f<a[c].length;f++)a[c][f]=255&t.buffer[f+i];i+=l;var p=s.getErrorCorrectPolynomial(d),h=new u(a[c],p.getLength()-1),g=h.mod(p);o[c]=new Array(p.getLength()-1);for(f=0;f<o[c].length;f++){var v=f+g.getLength()-o[c].length;o[c][f]=v>=0?g.get(v):0}}var m=0;for(f=0;f<e.length;f++)m+=e[f].totalCount;var b=new Array(m),y=0;for(f=0;f<n;f++)for(c=0;c<e.length;c++)f<a[c].length&&(b[y++]=a[c][f]);for(f=0;f<r;f++)for(c=0;c<e.length;c++)f<o[c].length&&(b[y++]=o[c][f]);return b};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case a.PATTERN000:return(e+i)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return i%3==0;case a.PATTERN011:return(e+i)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case a.PATTERN101:return e*i%2+e*i%3==0;case a.PATTERN110:return(e*i%2+e*i%3)%2==0;case a.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new u([1],0),i=0;i<t;i++)e=e.multiply(new u([1,o.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var r=0;r<e;r++){for(var a=0,s=t.isDark(n,r),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)r+c<0||e<=r+c||0==o&&0==c||s==t.isDark(n+o,r+c)&&a++;a>5&&(i+=3+a-5)}for(n=0;n<e-1;n++)for(r=0;r<e-1;r++){var u=0;t.isDark(n,r)&&u++,t.isDark(n+1,r)&&u++,t.isDark(n,r+1)&&u++,t.isDark(n+1,r+1)&&u++,0!=u&&4!=u||(i+=3)}for(n=0;n<e;n++)for(r=0;r<e-6;r++)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(i+=40);for(r=0;r<e;r++)for(n=0;n<e-6;n++)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(i+=40);var l=0;for(r=0;r<e;r++)for(n=0;n<e;n++)t.isDark(n,r)&&l++;var d=Math.abs(100*l/e/e-50)/5;return i+=10*d,i}},o={glog:function(t){if(t<1)throw new Error("glog("+t+")");return o.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return o.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)o.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)o.EXP_TABLE[c]=o.EXP_TABLE[c-4]^o.EXP_TABLE[c-5]^o.EXP_TABLE[c-6]^o.EXP_TABLE[c-8];for(c=0;c<255;c++)o.LOG_TABLE[o.EXP_TABLE[c]]=c;function u(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var i=0;while(i<t.length&&0==t[i])i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function l(t,e){this.totalCount=t,this.dataCount=e}function d(){this.buffer=new Array,this.length=0}function f(t){for(var e,i="",n=0;n<t.length;n++)e=t.charCodeAt(n),e>=1&&e<=127?i+=t.charAt(n):e>2047?(i+=String.fromCharCode(224|e>>12&15),i+=String.fromCharCode(128|e>>6&63),i+=String.fromCharCode(128|e>>0&63)):(i+=String.fromCharCode(192|e>>6&31),i+=String.fromCharCode(128|e>>0&63));return i}u.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=o.gexp(o.glog(this.get(i))+o.glog(t.get(n)));return new u(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=o.glog(this.get(0))-o.glog(t.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=o.gexp(o.glog(t.get(n))+e);return new u(i,0).mod(t)}},l.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l.getRSBlocks=function(t,e){var i=l.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,r=new Array,a=0;a<n;a++)for(var s=i[3*a+0],o=i[3*a+1],c=i[3*a+2],u=0;u<s;u++)r.push(new l(o,c));return r},l.getRsBlockTable=function(t,e){switch(e){case r.L:return l.RS_BLOCK_TABLE[4*(t-1)+0];case r.M:return l.RS_BLOCK_TABLE[4*(t-1)+1];case r.Q:return l.RS_BLOCK_TABLE[4*(t-1)+2];case r.H:return l.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},d.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},n={defaults:{size:258,margin:0,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"png",correctLevel:3,typeNumber:-1},make:function(t){var i={canvasId:t.canvasId,componentInstance:t.componentInstance,text:t.text,size:this.defaults.size,margin:this.defaults.margin,backgroundColor:this.defaults.backgroundColor,foregroundColor:this.defaults.foregroundColor,fileType:this.defaults.fileType,correctLevel:this.defaults.correctLevel,typeNumber:this.defaults.typeNumber};if(t)for(var n in t)i[n]=t[n];function r(){var i=new e(t.typeNumber,t.correctLevel);i.addData(f(t.text)),i.make();var n=uni.createCanvasContext(t.canvasId,t.componentInstance);n.setFillStyle(t.backgroundColor),n.fillRect(0,0,t.size,t.size);for(var r=(t.size-2*t.margin)/i.getModuleCount(),a=r,s=0;s<i.getModuleCount();s++)for(var o=0;o<i.getModuleCount();o++){var c=i.isDark(s,o)?t.foregroundColor:t.backgroundColor;n.setFillStyle(c);var u=Math.round(o*r)+t.margin,l=Math.round(s*a)+t.margin,d=Math.ceil((o+1)*r)-Math.floor(o*r),p=Math.ceil((s+1)*r)-Math.floor(s*r);n.fillRect(u,l,d,p)}setTimeout((function(){n.draw(!1,(function(){setTimeout((function(){uni.canvasToTempFilePath({canvasId:t.canvasId,fileType:t.fileType,width:t.size,height:t.size,destWidth:t.size,destHeight:t.size,success:function(e){t.success&&t.success(e.tempFilePath)},fail:function(e){t.fail&&t.fail(e)},complete:function(e){t.complete&&t.complete(e)}},t.componentInstance)}),t.text.length+100)}))}),150)}t=i,t.canvasId?r():console.error("uQRCode: Please set canvasId!")}}})();var r=n;e.default=r},5083:function(t,e,i){"use strict";var n,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{key:t.mykey,staticClass:"prodetailmodal cu-modal bottom-modal",class:t.ifshowpopup?"show":"",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hidepopup.apply(void 0,arguments)}}},[t.product?i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar padding-bottom borderbottom"},[i("v-uni-view",{staticClass:"action proview margin-top flex"},[t.proimg?i("v-uni-view",{staticClass:"cu-avatar radius xl margin-right-sm",style:{backgroundImage:"url("+t.proimg+")"}}):t._e(),i("v-uni-view",{staticClass:"proinfoview text-left"},[i("v-uni-view",{staticClass:"proinfotitle text-black text-xl t_twoline margin-bottom-sm"},[t._v(t._s(t.product.title))]),i("v-uni-view",{staticClass:"proinfospec margin-bottom-sm"},[i("v-uni-text",{staticClass:"text-grey text-df"},[t._v(t._s(t.i18n.goods.goodsdetail.selected+": "))]),t.selectspecinfo?i("v-uni-text",{staticClass:"text-black text-bold text-df"},[t._v(t._s(t.showspecstr))]):t._e()],1),i("v-uni-view",{staticClass:"proinfoprice flex align-center"},[i("v-uni-view",{staticClass:"sellprice text-df flex align-center margin-right"},[i("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.i18n.goods.price+":"))]),t.selectspecinfo?i("v-uni-text",{staticClass:"text-red margin-left-sm"},[t._v(t._s(t.selectspecinfo.salePrice))]):t._e()],1)],1)],1)],1),i("v-uni-view",{staticClass:"action self-start margin-left-sm"},[i("v-uni-text",{staticClass:"cuIcon cuIcon-close",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hidepopup.apply(void 0,arguments)}}})],1)],1),i("v-uni-scroll-view",{staticClass:"content padding text-left",attrs:{"scroll-y":!0}},[t.attributeList?i("v-uni-view",{staticClass:"attributesview"},t._l(t.attributeList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"eachattributeview"},[i("v-uni-view",{staticClass:"attributenameview text-black text-lg"},[t._v(t._s(e.attributeName))]),i("v-uni-view",{staticClass:"attributevaluesview flex flex-wrap align-center padding"},t._l(e.attributeValues,(function(e,r){return i("v-uni-view",{key:r,staticClass:"eachvalue cu-btn radius margin-left-sm",class:e.selected?"bg-blue":"bg-gray",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.selectattribute(n,r)}}},[t._v(t._s(e.attributeValue))])})),1)],1)})),1):t._e()],1),i("v-uni-view",{staticClass:"padding bordertop"},[i("v-uni-button",{staticClass:"cu-btn block shadow-blur lg bg-gradual-blue round",attrs:{disabled:!t.selectspecinfo},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.confirmselectspec.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.base.confirm))])],1)],1):t._e()],1)},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},"5a95":function(t,e,i){"use strict";i.r(e);var n=i("5083"),r=i("6296");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("3a66");var s,o=i("f0c5"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"a2c25180",null,!1,n["a"],s);e["default"]=c.exports},"5ed1":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.picker[data-v-1e0febad]{line-height:%?30?%!important}',""]),t.exports=e},6296:function(t,e,i){"use strict";i.r(e);var n=i("7c33"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"66e9":function(t,e,i){"use strict";i.r(e);var n=i("f3d6"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"791a":function(t,e,i){"use strict";i.r(e);var n=i("f384"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"7c33":function(t,e,i){"use strict";var n;i("7db0"),i("c740"),i("4160"),i("a15b"),i("a9e3"),i("e25e"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Array.prototype.contains=function(t){var e=this.length;while(e--)if(this[e]===t)return!0;return!1};var r={name:"goodsspecselector",props:{mykey:{type:[String,Number],default:""},pid:{type:[String,Number],default:null,required:!0},defaultselectattributeIds:{type:Array,default:function(){return[]}},ifshowpopup:{type:Boolean,default:!1}},data:function(){return{product:null,proimg:null,attributeList:[]}},watch:{defaultselectattributeIds:function(t,e){console.log("检测到默认选中规格变更 开始重新计算数据源选中状态"),this.getproductspecdata()}},computed:{selectspecinfo:function(){if(0!==this.attributeList.length){var t=[];this.attributeList.forEach((function(e){e.attributeValues&&e.attributeValues.forEach((function(e){e.selected&&t.push(e.attributeId)}))}));var e=this.specs.find((function(e){if(0!==t.length&&e.attributeList&&0!==e.attributeList.length&&t.length===e.attributeList.length){var i=e.attributeList.findIndex((function(e,i){return!t.contains(e.attributeId)}));return-1===i}return!1}));return console.log("当前规格对象为:".concat(JSON.stringify(e))),e}},showspecstr:function(){var t=[],e=this.selectspecinfo;e&&e.attributeList.forEach((function(e){t.push(e.attributeValue)}));var i=t.join("、");return i},selectattributeIds:function(){var t=[],e=this.selectspecinfo;return e&&e.attributeList.forEach((function(e){t.push(e.attributeId)})),t}},created:function(){n=this,n.getproductspecdata()},methods:{getproductspecdata:function(){n.$api.goodsapi.getgoodsdetail({pid:n.pid}).then((function(t){var e=t.data.product;n.product=e;var i=e.imgs.split(",").length>0?n.imgUrl+e.imgs.split(",")[0]:null;n.proimg=i;var r=e.attributeList;n.setmapattributeArr(r);var a=e.specs;n.specs=a,n.confirmselectspec()})).catch((function(t){}))},setmapattributeArr:function(t){var e=[];t&&t.length>0&&t.forEach((function(t,i){var r=[];t.attributeValues&&t.attributeValues.length>0&&t.attributeValues.forEach((function(t,e){var i=-1!==n.defaultselectattributeIds.findIndex((function(e){return parseInt(t.attributeId)===parseInt(e)})),a={attributeId:t.attributeId,attributeValue:t.attributeValue,selected:i};r.push(a)}));var a={attributeName:t.attributeName,attributeValues:r};e.push(a)})),n.attributeList=e},selectattribute:function(t,e){var i=n.attributeList[t],r=i.attributeValues,a=r[e],s=a.selected;r.forEach((function(t,e){s||(t.selected=!1)})),a.selected=!a.selected,i.attributeValues=r,n.$set(n.attributeList,t,i)},confirmselectspec:function(){var t={specinfo:n.selectspecinfo,showspecstr:n.showspecstr,selectattributeIds:n.selectattributeIds};this.$emit("confirmselectspecinfo",t),this.hidepopup()},hidepopup:function(){this.$emit("hidepopup")}}};e.default=r},"916c":function(t,e,i){var n=i("5ed1");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("e4422b04",n,!0,{sourceMap:!1,shadowMode:!1})},9386:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goodsdetailview[data-v-17759af4]{padding-bottom:60px}.goodsdetailview .optionview[data-v-17759af4]{position:fixed;z-index:20;left:0;right:0;bottom:0}',""]),t.exports=e},"9db3":function(t,e,i){"use strict";var n,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-canvas",{style:{width:t.size+"px",height:t.size+"px"},attrs:{id:t.cid,"canvas-id":t.cid}})],1)},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},b6802:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},c10b:function(t,e,i){"use strict";i.r(e);var n=i("2800"),r=i("66e9");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("4472");var s,o=i("f0c5"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"1e0febad",null,!1,n["a"],s);e["default"]=c.exports},c99d:function(t,e,i){"use strict";i.r(e);var n=i("9db3"),r=i("791a");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var s,o=i("f0c5"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=c.exports},cb29:function(t,e,i){var n=i("23e7"),r=i("81d5"),a=i("44d2");n({target:"Array",proto:!0},{fill:r}),a("fill")},d0ff:function(t,e,i){"use strict";i.r(e);var n=i("b6802");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=i("dde1");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||a(t)||Object(s["a"])(t)||o()}i.d(e,"default",(function(){return c}))},d8c4:function(t,e,i){var n=i("1f85");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("1f1c9a68",n,!0,{sourceMap:!1,shadowMode:!1})},da73:function(t,e,i){"use strict";var n=i("ee27");i("99af"),i("4de4"),i("7db0"),i("4160"),i("d81d"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,a=n(i("c10b")),s=n(i("5a95")),o=n(i("c99d")),c=3,u={components:{goodstypepicker:a.default,goodsspecselector:s.default,uniQrcode:o.default},data:function(){return{pid:null,product:null,stockrecordlist:null,swiperindex:0,swiperData:null,selectattributeIdArr:[],recordselectattributeIdArr:[],selectspecinfo:null,showspecstr:null,ifshowpopup:!1,ifshowqrcode:!1,qrcodeval:"",qrcodesrc:null}},onLoad:function(t){r=this;var e=t.pid;r.pid=e,r.loaddetaildata(),uni.$on("updateprodetail",(function(){r.loaddetaildata()}))},onUnload:function(){uni.$off("updateprodetail")},computed:{priceList:function(){var t=this.selectspecinfo;if(t){var e={pricetype:"salePrice",pricetitle:this.i18n.goods.price,pricecolor:"text-red",price:t.salePrice||"***"},i={pricetype:"agentPrice",pricetitle:this.i18n.goods.agentprice,pricecolor:"text-black",price:t.agentPrice||"***"},n={pricetype:"creditPrice",pricetitle:this.i18n.goods.creditprice,pricecolor:"text-black",price:t.creditPrice||"***"},r={pricetype:"costPrice",pricetitle:this.i18n.goods.costprice,pricecolor:"text-black",price:t.costPrice||"***"},a=[e,i,n,r];return a}return[]},computedstockrecord:function(){var t=this.selectspecinfo;if(t){if(this.stockrecordlist&&this.stockrecordlist.length>0){var e=this.stockrecordlist.filter((function(e){return e.specInfo.specId===t.specId}));return e}return[]}return this.stockrecordlist}},methods:{loaddetaildata:function(){r.$api.goodsapi.getgoodsdetail({pid:r.pid}).then((function(t){var e=t.data.product;r.product=e;var i=[];if(e.imgs){var n=e.imgs.split(",");n.forEach((function(t){var e=r.imgUrl+t;i.push(e)}))}if(i.length>0&&(r.swiperData=i),r.selectspecinfo){var a=e.specs.find((function(t){return t.specId===r.selectspecinfo.specId}));r.selectspecinfo=a}else e.specs&&e.specs.length>0&&(r.selectspecinfo=e.specs[0]);r.calculateproductprice(),r.getstockrecord()})).catch((function(t){uni.showToast({title:r.i18n.error.loaderror,icon:"none"})}))},getstockrecord:function(){var t=this,e={pageSize:c,barCode:r.product.barCode};this.$api.stockapi.getstockrecord(e).then((function(e){var i=e.data.list;t.stockrecordlist=i})).catch((function(e){uni.showToast({title:t.i18n.error.loaderror,icon:"none"})}))},getrandombgcolor:function(){var t=["bg-green","bg-red","bg-grey","bg-blue","bg-cyan"],e=Math.floor(Math.random()*(t.length-0))+0,i=t[e];return i},calculateproductprice:function(){var t=r.product,e=t.specs,i=Math.max.apply(Math,e.map((function(t){return t.salePrice}))),n=Math.min.apply(Math,e.map((function(t){return t.salePrice}))),a=i===n?"".concat(n):"".concat(n," ~ ").concat(i);t.price=a},changeSwiper:function(t){var e=t.detail.current;r.swiperindex=e},previewimg:function(t){uni.previewImage({urls:r.swiperData,current:t})},selecttypeconfirm:function(t){var e=t.firstTypeId,i=t.secondTypeId;console.log("当前选中的商品分类为:".concat(e,"---").concat(i))},checkqrcode:function(){this.ifshowqrcode=!0},getqrcodeimgpath:function(t){r.qrcodesrc=t},printqrcode:function(){console.log("开始打印二维码")},downloadqrcode:function(){var t=this.qrcodesrc;uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.showToast({title:r.i18n.tip.savesuccess,icon:"success",duration:1500})},fail:function(t){uni.showToast({title:r.i18n.base.fail,icon:"none",duration:1500})}})},previewspec:function(){r.ifshowpopup=!0},confirmselectspec:function(t){var e=t.specinfo;this.selectspecinfo=e;var i=t.showspecstr;this.showspecstr=i;var n=t.selectattributeIds;this.recordselectattributeIdArr=n},jumptofixprice:function(){uni.navigateTo({url:"/pages/goods/handlepriceandstock?pid=".concat(r.pid)})},editgoods:function(){uni.navigateTo({url:"/pages/goods/handlegoods?type=edit&pid=".concat(this.pid)})},jumptostockmanage:function(){uni.navigateTo({url:"/pages/stock/handlestock?pid=".concat(r.pid,"&specId=").concat(this.selectspecinfo?this.selectspecinfo.specId:null)})}}};e.default=u},dde1:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3");var n=i("b6802");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}},f278:function(t,e,i){"use strict";var n=i("0200"),r=i.n(n);r.a},f384:function(t,e,i){"use strict";var n=i("ee27");i("cb29"),i("a9e3"),i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var r=n(i("c964")),a=n(i("4ca2")),s={props:{cid:{type:String,required:!0},text:{type:String,required:!0},size:{type:Number,default:129},margin:{type:Number,default:0},backgroundColor:{type:String,default:"#ffffff"},foregroundColor:{type:String,default:"#000000"},backgroundImage:{type:String},logo:{type:String},makeOnLoad:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){this.makeOnLoad&&this.make()},methods:{make:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={canvasId:t.cid,componentInstance:t,text:t.text,size:t.size,margin:t.margin,backgroundColor:t.backgroundImage?"rgba(255,255,255,0)":t.backgroundColor,foregroundColor:t.foregroundColor},e.next=3,t.makeSync(i);case 3:if(n=e.sent,!t.backgroundImage){e.next=8;break}return e.next=7,t.drawBackgroundImageSync(n);case 7:n=e.sent;case 8:if(!t.logo){e.next=12;break}return e.next=11,t.drawLogoSync(n);case 11:n=e.sent;case 12:t.makeComplete(n);case 13:case"end":return e.stop()}}),e)})))()},makeComplete:function(t){this.$emit("makeComplete",t)},drawBackgroundImage:function(t){var e=this,i=uni.createCanvasContext(this.cid,this);i.drawImage(this.backgroundImage,0,0,this.size,this.size),i.drawImage(t.filePath,0,0,this.size,this.size),i.draw(!1,(function(){uni.canvasToTempFilePath({canvasId:e.cid,success:function(e){t.success&&t.success(e.tempFilePath)},fail:function(e){t.fail&&t.fail(e)}})}))},drawBackgroundImageSync:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,n){e.drawBackgroundImage({filePath:t,success:function(t){i(t)},fail:function(t){n(t)}})})));case 1:case"end":return i.stop()}}),i)})))()},fillRoundRect:function(t,e,i,n,r,a){t.save(),t.translate(i,n),t.beginPath(),t.arc(r-e,a-e,e,0,Math.PI/2),t.lineTo(e,a),t.arc(e,a-e,e,Math.PI/2,Math.PI),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2),t.lineTo(r-e,0),t.arc(r-e,e,e,3*Math.PI/2,2*Math.PI),t.lineTo(r,a-e),t.closePath(),t.setFillStyle("#ffffff"),t.fill(),t.restore()},drawLogo:function(t){var e=this,i=uni.createCanvasContext(this.cid,this);i.drawImage(t.filePath,0,0,this.size,this.size);var n=this.size/4,r=this.size/2-n/2,a=r,s=n+10,o=this.size/2-s/2,c=o,u=5;this.fillRoundRect(i,u,o,c,s,s),i.drawImage(this.logo,r,a,n,n),i.draw(!1,(function(){uni.canvasToTempFilePath({canvasId:e.cid,success:function(e){t.success&&t.success(e.tempFilePath)},fail:function(e){t.fail&&t.fail(e)}})}))},drawLogoSync:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,n){e.drawLogo({filePath:t,success:function(t){i(t)},fail:function(t){n(t)}})})));case 1:case"end":return i.stop()}}),i)})))()},makeSync:function(t){return(0,r.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){a.default.make({canvasId:t.canvasId,componentInstance:t.componentInstance,text:t.text,size:t.size,margin:t.margin,backgroundColor:t.backgroundColor,foregroundColor:t.foregroundColor,success:function(t){e(t)},fail:function(t){i(t)}})})));case 1:case"end":return e.stop()}}),e)})))()}}};e.default=s},f3d6:function(t,e,i){"use strict";var n=i("ee27");i("7db0"),i("4160"),i("a434"),i("a9e3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,a=n(i("d0ff")),s={name:"goodstypepicker",props:{defaultfirstTypeId:{type:[String,Number]},defaultsecondTypeId:{type:[String,Number]}},data:function(){return{typelist:[],firstTypeId:this.defaultfirstTypeId,secondTypeId:this.defaultsecondTypeId,typemultiArray:[],selecttypeIndexArr:[0,0],showtypestr:""}},watch:{defaultfirstTypeId:function(t,e){this.firstTypeId=t,r.watchselecttype()},defaultsecondTypeId:function(t,e){this.secondTypeId=t,r.watchselecttype()}},created:function(){r=this,r.loadtypedata(),uni.$on("updategoodstype",(function(){r.loadtypedata()}))},methods:{loadtypedata:function(){r.$api.goodsapi.gettypelist().then((function(t){var e=t.data.list,i=[];e.forEach((function(t,e){t.typeName=1===t.sysFlag?r.i18n.base[t.typeName]:t.typeName,t.childList&&t.childList.length>0&&t.childList.forEach((function(t,e){t.typeName=1===t.sysFlag?r.i18n.base[t.typeName]:t.typeName})),-1!==t.typeId&&i.push(t)})),r.typelist=i,r.settypeselectordata()})).catch((function(t){uni.showToast({title:r.i18n.error.getgoodstypeerror,icon:"none"})}))},watchselecttype:function(){if(this.typelist&&0!==!this.typelist.length)r.settypeselectordata();else var t=setInterval((function(){r.typelist.length>0&&(r.settypeselectordata(),clearInterval(t))}),1e3)},settypeselectordata:function(){var t=[],e=[],i=(0,a.default)(r.selecttypeIndexArr);r.typelist.forEach((function(e,i){t.push(e)}));var n=r.typelist.find((function(t,e){return t.typeId===r.firstTypeId&&(i[0]=e),t.typeId===r.firstTypeId}));if(n){e=n.childList||[];e.find((function(t,e){return t.typeId===r.secondTypeId&&(i[1]=e),t.typeId===r.secondTypeId}))}else{var s=i[0];e=r.typelist&&r.typelist.length>0&&r.typelist[s]&&r.typelist[s].childList?r.typelist[s].childList:[]}var o=[t,e];this.typemultiArray=o,this.selecttypeIndexArr=i,this.setchoosetypestr()},MultiColumnChange:function(t){var e=t.detail.column,i=t.detail.value;if(0===e){var n=r.typelist[i].childList||[];r.typemultiArray.splice(1,1,n)}r.selecttypeIndexArr.splice(e,1,i)},selectType:function(t){var e=t.detail.value;this.selecttypeIndexArr=e,this.setselectTypeId(),this.setchoosetypestr()},setselectTypeId:function(){var t=r.selecttypeIndexArr,e=t[0],i=r.typelist[e],n=i.typeId;if(r.firstTypeId=n,t.length>1&&null!==t[1]){var a=t[1],s=i.childList&&i.childList.length>0?i.childList[a]:null;r.secondTypeId=s?s.typeId:""}var o={firstTypeId:r.firstTypeId,secondTypeId:r.secondTypeId};r.$emit("selectConfirm",o)},setchoosetypestr:function(){if(r.firstTypeId){var t=r.typemultiArray[0][r.selecttypeIndexArr[0]],e=t.childList?t.childList[r.selecttypeIndexArr[1]]:null,i=t.typeName+"/"+(e?e.typeName:"");r.showtypestr=i,r.$emit("gettypename",r.showtypestr)}else r.showtypestr=r.i18n.tip.pleaseselectgoodstype},editgoodstype:function(){uni.navigateTo({url:"/pages/goodstype/newindex"})}}};e.default=s}}]);